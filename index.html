<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ä¾ç„¶å¦‚æ¢¦ | å»å»çœ¼è§’çš„æ³ªæ°´</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@300;400;700&family=ZCOOL+XiaoWei&display=swap');

        :root {
            /* æµªæ¼«çš„æ™¨æ›¦æ¸å˜è‰² */
            --bg-gradient: linear-gradient(180deg, #fec3e0 0%, #d4fc79 100%); /* å¤‡ç”¨ */
            --bg-romantic: linear-gradient(to top, #a18cd1 0%, #fbc2eb 100%);
            --glass-bg: rgba(255, 255, 255, 0.75);
            --glass-border: rgba(255, 255, 255, 0.9);
            --text-main: #6a6a6a;
            --highlight: #ff9a9e;
            --card-shadow: 0 10px 40px rgba(255, 154, 158, 0.2);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Noto Serif SC', serif;
            color: var(--text-main);
            background: var(--bg-romantic);
            background-attachment: fixed;
            min-height: 100vh;
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
            cursor: default;
        }

        /* --- ğŸŒ¸ èƒŒæ™¯åŠ¨æ€æ¨±èŠ± (CSS + JSæ§åˆ¶) --- */
        #sakura-container {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }
        
        .petal {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 150% 0 150% 0;
            animation: fall linear infinite;
        }

        @keyframes fall {
            0% { opacity: 0; transform: translate3d(0, -10%, 0) rotate(0deg); }
            10% { opacity: 1; }
            100% { opacity: 0.3; transform: translate3d(100px, 110vh, 0) rotate(360deg); }
        }

        /* --- ğŸ® æ‰‹æŸ„ç³»ç»Ÿ --- */
        /* 1. éšå½¢å…‰æ ‡ï¼šåƒä¸€é¢—æµæ˜Ÿ */
        #gamepad-cursor {
            position: fixed; 
            border-radius: 50%;
            background: radial-gradient(circle, #fff 30%, #ffc3a0 100%);
            box-shadow: 0 0 15px #fff, 0 0 5px #ff9a9e;
            pointer-events: none; 
            z-index: 9999;
            visibility: hidden; 
            opacity: 0; 
            transition: opacity 0.3s ease;
            mix-blend-mode: overlay;
        }
        #gamepad-cursor.show { visibility: visible; opacity: 1; }

        @media (min-width: 601px) { #gamepad-cursor { width: 22px; height: 22px; } }
        @media (max-width: 600px) { #gamepad-cursor { width: 16px; height: 16px; } }

        /* 2. è¿æ¥æç¤ºï¼šå¯çˆ±çš„èƒ¶å›Šæ ·å¼ */
        #gamepad-toast {
            position: fixed;
            top: -80px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(12px);
            padding: 10px 25px;
            border-radius: 50px;
            box-shadow: 0 5px 20px rgba(255, 105, 180, 0.15);
            font-family: 'ZCOOL XiaoWei', serif;
            font-size: 0.95rem;
            color: #ff7eb3;
            z-index: 10000;
            transition: top 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
            display: flex;
            align-items: center;
            gap: 8px;
            pointer-events: none;
        }
        #gamepad-toast.active { top: 30px; }

        /* --- ç•Œé¢å¸ƒå±€ --- */
        nav {
            display: flex;
            justify-content: center;
            padding: 30px;
            animation: fadeInDown 1s ease;
        }
        .logo {
            font-family: 'ZCOOL XiaoWei', serif;
            font-size: 1.4rem;
            color: #fff;
            text-shadow: 0 2px 10px rgba(255, 105, 180, 0.3);
            letter-spacing: 2px;
        }

        header {
            text-align: center;
            padding: 20px 20px 30px;
            animation: fadeInUp 1s ease 0.2s backwards;
        }

        .avatar-container {
            position: relative;
            width: 140px;
            height: 140px;
            margin: 0 auto 20px;
            /* æ‚¬æµ®åŠ¨ç”» */
            animation: floating 6s ease-in-out infinite; 
        }
        
        .avatar {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid rgba(255,255,255,0.9);
            box-shadow: 0 15px 35px rgba(255, 154, 158, 0.4);
        }

        /* è·¨æ€§åˆ«é…è‰²çš„æ¢¦å¹»å…‰ç¯ */
        .avatar-ring {
            position: absolute;
            top: -8px; left: -8px; right: -8px; bottom: -8px;
            border-radius: 50%;
            background: linear-gradient(45deg, #5BCEFA, #F5A9B8, #fff, #F5A9B8, #5BCEFA);
            z-index: -1;
            opacity: 0.7;
            filter: blur(8px);
            animation: spin 15s linear infinite;
        }

        h1 {
            font-family: 'ZCOOL XiaoWei', serif;
            font-size: 2.2rem;
            color: #fff;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 8px;
            font-weight: normal;
        }

        .tagline {
            font-size: 1rem;
            color: rgba(255,255,255,0.95);
            min-height: 24px;
            font-style: italic;
        }

        /* --- å¡ç‰‡å®¹å™¨ (UIæ ¸å¿ƒ) --- */
        .container {
            width: 100%;
            max-width: 700px;
            margin: 0 auto;
            padding: 10px 20px 80px;
        }

        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border-radius: 24px; /* æ›´åœ†æ¶¦ */
            border: 2px solid var(--glass-border);
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: var(--card-shadow);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            animation: fadeInUp 1s ease 0.4s backwards;
        }
        
        /* é¼ æ ‡/æ‰‹æŸ„æ‚¬åœæ•ˆæœ */
        .glass-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 50px rgba(255, 154, 158, 0.3);
            background: rgba(255, 255, 255, 0.85);
        }

        .card-title {
            font-family: 'ZCOOL XiaoWei', serif;
            font-size: 1.4rem;
            color: #8a6a9e; /* ç´«è‰²è°ƒ */
            text-align: center;
            margin-bottom: 25px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .text-content p {
            line-height: 1.9; /* æ›´å®½æ¾çš„è¡Œè· */
            margin-bottom: 18px;
            font-size: 1.05rem;
            color: #666;
        }
        
        .highlight {
            background: linear-gradient(120deg, #ff9a9e 0%, #fecfef 100%);
            background-clip: text;
            -webkit-background-clip: text;
            color: #ff7eb3;
            font-weight: bold;
        }

        /* æ—¥è®°æ¡ç›® - æ›´å¯çˆ±çš„åˆ†å‰² */
        .diary-item {
            padding: 15px;
            border-radius: 16px;
            background: rgba(255,255,255,0.4);
            margin-bottom: 15px;
            transition: 0.2s;
        }
        .diary-item:hover {
            background: rgba(255,255,255,0.7);
        }

        .date { 
            font-size: 0.8rem; 
            color: #999; 
            background: #fff; 
            display: inline-block; 
            padding: 2px 8px; 
            border-radius: 10px; 
            margin-bottom: 8px;
        }
        .diary-head { font-size: 1.1rem; color: #555; margin-bottom: 8px; font-weight: normal; }
        .diary-body { font-size: 0.95rem; color: #777; line-height: 1.6; }

        footer {
            text-align: center;
            color: #fff;
            font-size: 0.9rem;
            opacity: 0.8;
            padding-bottom: 40px;
        }

        /* --- åŠ¨ç”»å®šä¹‰ --- */
        @keyframes spin { 100% { transform: rotate(360deg); } }
        @keyframes floating { 
            0%, 100% { transform: translateY(0); } 
            50% { transform: translateY(-10px); } 
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 600px) {
            h1 { font-size: 1.8rem; }
            .glass-card { padding: 25px 20px; }
            .avatar-container { width: 120px; height: 120px; }
        }
    </style>
</head>
<body>

    <div id="sakura-container"></div>

    <div id="gamepad-toast">
        <span style="font-size: 1.2rem;">ğŸ®</span> æ‰‹æŸ„å·²è¿æ¥
    </div>
    <div id="gamepad-cursor"></div>

    <nav>
        <div class="logo">Dreamy.</div>
    </nav>

    <header>
        <div class="avatar-container">
            <div class="avatar-ring"></div>
            <img src="https://thumbs2.imgbox.com/a0/47/8P4f7HXo_t.jpg" alt="ä¾ç„¶å¦‚æ¢¦" class="avatar">
        </div>
        <h1>ä¾ç„¶å¦‚æ¢¦</h1>
        <p class="tagline" id="typing-text"></p>
    </header>

    <div class="container">
        
        <section class="glass-card">
            <h2 class="card-title">âœ¨ æ— å£°çš„å‘å–Š âœ¨</h2>
            <div class="text-content">
                <p>æˆ‘æ˜¯<strong>ä¾ç„¶å¦‚æ¢¦</strong>ã€‚åœ¨è¿™ä¸ªå–§åš£çš„ä¸–ç•Œé‡Œï¼Œæˆ‘æ˜¯ä¸€åªè¿˜æ²¡æ¥å¾—åŠç ´èŒ§çš„è´è¶ã€‚</p>
                <p>èº«ä½“åœ¨å‘ç€é”™è¯¯çš„æ–¹å‘ç”Ÿé•¿ï¼Œè€Œæˆ‘æ²¡æœ‰è¯ç‰© <span class="highlight">(HRT)</span> å»é˜»æ­¢è¿™ä¸€åˆ‡ã€‚ç°å®çš„å¼•åŠ›å¤ªé‡ï¼Œå‹å¾—æˆ‘å–˜ä¸è¿‡æ°”ã€‚</p>
                <p>æˆ‘æ¸´æœ›é•¿å‘é£˜é£˜ï¼Œæ¸´æœ›ç©¿ä¸Šé‚£æ¡è—åœ¨æŸœå­æ·±å¤„çš„è£™å­ã€‚ä½†ç°åœ¨ï¼Œæˆ‘åªèƒ½æŠŠçœŸå®çš„è‡ªå·±è—è¿›é»‘å¤œã€‚è°¢è°¢ä½ ï¼Œæ„¿æ„åœ¨è¿™é‡Œå¬è§æˆ‘çš„å¿ƒè·³ã€‚</p>
            </div>
        </section>

        <section class="glass-card">
            <h2 class="card-title">ğŸŒ¸ æ¢¦å¢ƒç¢ç‰‡ ğŸŒ¸</h2>
            
            <div class="diary-item">
                <div class="date">2023.11.07 / é›¨</div>
                <h3 class="diary-head">æ©±çª—é‡Œçš„å€’å½±</h3>
                <p class="diary-body">ä»Šå¤©è·¯è¿‡é‚£å®¶åº—ï¼Œç²‰è‰²çš„è¿è¡£è£™åœ¨ç¯å…‰ä¸‹å¥½ç¾ã€‚æˆ‘åœä¸‹æ¥çœ‹äº†ä¸€ä¼šå„¿ï¼Œç»ç’ƒä¸Šæ˜ å‡ºçš„é‚£ä¸ªç”·ç”Ÿæ˜¯è°å‘¢ï¼Ÿé‚£ä¸€åˆ»ï¼Œå¿ƒçœŸçš„å¥½ç—›ã€‚</p>
            </div>

            <div class="diary-item">
                <div class="date">2023.11.01 / é˜´</div>
                <h3 class="diary-head">å­¤ç‹¬</h3>
                <p class="diary-body">å‘¨å›´çš„äººéƒ½åœ¨ç¬‘ï¼Œåªæœ‰æˆ‘è§‰å¾—è‡ªå·±æ˜¯ä¸ªæ ¼æ ¼ä¸å…¥çš„å¼‚ç±»ã€‚ä»€ä¹ˆæ—¶å€™æ‰èƒ½åœ¨é˜³å…‰ä¸‹ï¼Œè‡ªç”±åœ°åšè‡ªå·±å‘¢ï¼Ÿ</p>
            </div>

            <div class="diary-item">
                <div class="date">2023.10.15 / å¤œ</div>
                <h3 class="diary-head">æ±‚åŠ©æ— é—¨</h3>
                <p class="diary-body">ä¾ç„¶æ‰¾ä¸åˆ°è¯çš„æ¸ é“ï¼Œä¹Ÿæ²¡æœ‰é’±ã€‚æ„Ÿè§‰åƒè¢«å›°åœ¨æ·±äº•é‡Œï¼Œçœ‹ç€å¤©ç©ºä¸€ç‚¹ç‚¹å˜æš—ã€‚ä½†æˆ‘è¿˜ä¸æƒ³æ”¾å¼ƒã€‚</p>
            </div>
        </section>
    </div>

    <footer>
        <p>å»å»çœ¼è§’çš„æ³ªæ°´ â˜ï¸</p>
    </footer>

    <script>
        // --- 1. æµªæ¼«æ¨±èŠ±ç”Ÿæˆå™¨ ---
        function createSakura() {
            const container = document.getElementById('sakura-container');
            const petalCount = 30; // èŠ±ç“£æ•°é‡ï¼Œå¯è°ƒæ•´
            
            for (let i = 0; i < petalCount; i++) {
                const petal = document.createElement('div');
                petal.classList.add('petal');
                
                // éšæœºå¤§å°
                const size = Math.random() * 10 + 10 + 'px';
                petal.style.width = size;
                petal.style.height = size;
                
                // éšæœºä½ç½®å’ŒåŠ¨ç”»å‚æ•°
                petal.style.left = Math.random() * 100 + 'vw';
                petal.style.animationDuration = Math.random() * 5 + 8 + 's'; // 8-13ç§’é£˜è½
                petal.style.animationDelay = Math.random() * 5 + 's';
                
                // éšæœºé¢œè‰²ï¼ˆç™½è‰²æˆ–æ·¡ç²‰è‰²ï¼‰
                if (Math.random() > 0.5) {
                    petal.style.backgroundColor = '#ffc3a0';
                }
                
                container.appendChild(petal);
            }
        }
        createSakura();

        // --- 2. æ‰“å­—æœºæ•ˆæœ ---
        const text = "å»å»çœ¼è§’çš„æ³ªæ°´ã€‚";
        const typingElement = document.getElementById('typing-text');
        let i = 0;
        function typeWriter() {
            if (i < text.length) {
                typingElement.innerHTML = text.substring(0, i + 1);
                i++;
                setTimeout(typeWriter, 200);
            }
        }
        window.onload = typeWriter;

        // --- 3. æ™ºèƒ½æ‰‹æŸ„é€»è¾‘ (è‡ªé€‚åº”é€Ÿåº¦) ---
        const cursor = document.getElementById('gamepad-cursor');
        const toast = document.getElementById('gamepad-toast');
        let gamepadIndex = null;
        let loopId = null;
        
        // åŠ¨æ€å‚æ•°
        let screenW = window.innerWidth;
        let screenH = window.innerHeight;
        let cursorX = screenW / 2;
        let cursorY = screenH / 2;
        
        function calculateSpeed() {
            // PCç«¯å¿«ä¸€ç‚¹ï¼Œæ‰‹æœºç«¯æ…¢ä¸€ç‚¹
            const base = screenW < 600 ? 4 : 12; 
            return base + (screenW * 0.004); 
        }
        let moveSpeed = calculateSpeed();
        let scrollSpeed = 20; 
        const DEADZONE = 0.1;
        let aButtonPrev = false;

        window.addEventListener('resize', () => {
            screenW = window.innerWidth;
            screenH = window.innerHeight;
            moveSpeed = calculateSpeed();
            cursorX = Math.min(cursorX, screenW);
            cursorY = Math.min(cursorY, screenH);
        });

        window.addEventListener("gamepadconnected", (e) => {
            gamepadIndex = e.gamepad.index;
            toast.classList.add('active');
            setTimeout(() => toast.classList.remove('active'), 3000);
            if (!loopId) loopId = requestAnimationFrame(gameLoop);
        });

        window.addEventListener("gamepaddisconnected", (e) => {
            if (e.gamepad.index === gamepadIndex) {
                gamepadIndex = null;
                cancelAnimationFrame(loopId);
                loopId = null;
                cursor.classList.remove('show');
            }
        });

        function gameLoop() {
            if (gamepadIndex === null) return;
            const gp = navigator.getGamepads()[gamepadIndex];
            if (!gp) return;

            const lx = gp.axes[0];
            const ly = gp.axes[1];
            const ry = gp.axes[3]; 

            const xVal = Math.abs(lx) > DEADZONE ? lx : 0;
            const yVal = Math.abs(ly) > DEADZONE ? ly : 0;
            const scrollVal = Math.abs(ry) > DEADZONE ? ry : 0;

            if (Math.abs(xVal) > 0 || Math.abs(yVal) > 0 || gp.buttons.some(b => b.pressed)) {
                cursor.classList.add('show');
            }

            if (xVal !== 0 || yVal !== 0) {
                cursorX += xVal * moveSpeed; 
                cursorY += yVal * moveSpeed;
                
                cursorX = Math.max(0, Math.min(screenW, cursorX));
                cursorY = Math.max(0, Math.min(screenH, cursorY));
                
                const r = screenW < 600 ? 8 : 11;
                cursor.style.transform = `translate(${cursorX - r}px, ${cursorY - r}px)`;
            }

            if (scrollVal !== 0) {
                window.scrollBy(0, scrollVal * scrollSpeed);
            }

            const aBtn = gp.buttons[0].pressed;
            if (aBtn && !aButtonPrev) {
                const r = screenW < 600 ? 8 : 11;
                // ç‚¹å‡»åé¦ˆï¼šå…‰æ ‡ç¼©å°
                cursor.style.transform = `translate(${cursorX - r}px, ${cursorY - r}px) scale(0.7)`;
                setTimeout(() => {
                     cursor.style.transform = `translate(${cursorX - r}px, ${cursorY - r}px) scale(1)`;
                }, 150);

                const elem = document.elementFromPoint(cursorX, cursorY);
                if (elem) {
                    elem.click();
                    if (['INPUT','TEXTAREA'].includes(elem.tagName)) elem.focus();
                }
            }
            aButtonPrev = aBtn;

            requestAnimationFrame(gameLoop);
        }
    </script>
</body>
</html>
